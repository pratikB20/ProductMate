@using Microsoft.AspNetCore.Http;
@using ProductMate.Models;  

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CompanyProductManagementTool</title>
    <link rel="stylesheet" href="~/lib/uikit/css/uikit.min.css" />
    <link rel="stylesheet" href="~/css/_Layout.css" />
    <link rel="stylesheet" href="~/ApplevelCSS/AppLevel.css" />
    <!-- Below this is your jQuery Reference  --MENTION JQUERY IN HEAD TAG ALWAYS WHICH WILL BE IMPORTED ALL OVER PAGES. -->
    <script src="@Url.Content("~/lib/jquery/dist/jquery.js")" type="text/javascript"></script>

    <script src="@Url.Content("~/lib/uikit/js/uikit.js")" type="text/javascript"></script>
    <!-- Boxicons ICON CSS -->
    <link rel='stylesheet' href="~/boxicons/css/boxicons.min.css">
</head>
<body>
    <div class="sidebar close">
        <div class="logo-details">
            <i class='bx bxl-product-hunt'></i>
            <span class="logo_name">Product Mate</span>
        </div>
        <ul class="nav-links">

            @if (@Context.Session.GetInt32("UserRole") == 1) ///Role - Admin
            {
                <!--Dashboard Section-->
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
                <!--User Section-->
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-user'></i>
                            <span class="link_name">Users</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Users</a></li>
                        <li><a href="@Url.Action("RegisterUser","RegisterUser", new { area="Admin" })">Register User</a></li>
                        <li><a href="@Url.Action("UserList","UserList", new { area="Admin" })">User List</a></li>
                        <li><a href="@Url.Action("NewRole","NewRole", new { area="Admin" })">New Role</a></li>
                        <li><a href="@Url.Action("RoleList","RoleList", new { area="Admin" })">Role List</a></li>
                    </ul>
                </li>
                <!--Customer Section-->
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bxs-user-voice'></i>
                            <span class="link_name">Customer</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a href="@Url.Action("RegisterOrganisation","RegisterOrganisation", new { area="Admin" })">Register Organisation</a></li>
                        <li><a href="@Url.Action("OrganisationList","OrganisationList", new { area="Admin" })">Organisation List</a></li>
                        <li><a href="@Url.Action("CustomerOwnedProducts","CustomerOwnedProducts", new { area="Admin" })">Customer Owned Products</a></li>
                        <li><a href="@Url.Action("NewDelegate","NewDelegate", new { area="Admin" })">New Delegate</a></li>
                        <li><a href="@Url.Action("DelegateList","DelegateList", new { area="Admin" })">Delegate List</a></li>
                        <li><a href="@Url.Action("CustomerProductProposals","CustomerProductProposals", new { area="Admin" })">Customer Product Proposals</a></li>
                        <li><a href="@Url.Action("CustomerFeedback","CustomerFeedback", new { area="Admin" })">Customer Feedback</a></li>
                    </ul>
                </li>
                <!--Product Support Section-->
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-desktop'></i>
                            <span class="link_name">Product Support</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Product Support</a></li>
                        <li><a href="@Url.Action("ProductSupportExecRequest","ProductSupportExecRequest", new { area="Admin" })">Product Support Exec Requests</a></li>
                        <li><a href="@Url.Action("AddProduct","AddProduct", new { area="Admin" })">Add Product</a></li>
                        <li><a href="@Url.Action("ProductList","ProductList", new { area="Admin" })">Product List</a></li>
                        <li><a href="@Url.Action("NewCase","NewCase", new { area="Admin" })">New Case</a></li>
                        <li><a href="@Url.Action("UnassignedCases","UnassignedCases", new { area="Admin" })">Unassigned Case</a></li>
                        <li><a href="@Url.Action("CaseHistory","CaseHistory", new { area="Admin" })">Case History</a></li>
                    </ul>
                </li>
                <!--IT Section-->
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-code-block'></i>
                            <span class="link_name">IT</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">IT</a></li>
                        <li><a href="@Url.Action("KnowledgeArticles","KnowledgeArticles", new { area="Admin" })">Knowledge Articles</a></li>
                        <li><a href="@Url.Action("KnowledgeArticlesDashboard","KnowledgeArticlesDashboard", new { area="Admin" })">Knowledge Articles Dashboard</a></li>
                        <li><a href="@Url.Action("ITTechOnboardProposals","ITTechOnboardProposals", new { area="Admin" })">IT Tech Onboard Proposals</a></li>
                    </ul>
                </li>
            }
            else if (@Context.Session.GetInt32("UserRole") == 2) //Role - Customer
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Products</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Products</a></li>
                        @*<li><a asp-area="Customer" asp-page="/NewProducts/NewProducts">New Products</a></li>*@
                        @*<li><a asp-area="Customer" asp-controller="NewProducts" asp-action="NewProducts">New Products</a></li>*@
                        <li><a href="@Url.Action("NewProducts","NewProducts", new { area="Customer" })">New Products</a></li>
                        <li><a href="#">Request New Product</a></li>
                        <li><a href="#">Propose New Product/Project</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">My Products</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">My Products</a></li>
                        <li><a href="#">Products Owned</a></li>
                        <li><a href="#">Product Owner Details</a></li>
                        <li><a href="#">Registered Contracts</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Product Cases</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Product Cases</a></li>
                        <li><a href="#">New Case</a></li>
                        <li><a href="#">Case History</a></li>
                        <li><a href="#">Case Details</a></li>
                        <li><a href="#">Consolidated Case Report</a></li>
                    </ul>
                </li>
            }
            else if (@Context.Session.GetInt32("UserRole") == 3) //Role - Product Support
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Product Cases</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Product Cases</a></li>
                        <li><a href="#">New Case</a></li>
                        <li><a href="#">Unassigned Cases</a></li>
                        <li><a href="#">Case History</a></li>
                        <li><a href="#">Consolidated Case Report</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Customer Register</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Customer Register</a></li>
                        <li><a href="#">Customer List</a></li>
                        <li><a href="#">Active Customer Requests</a></li>
                        <li><a href="#">Customer Request History</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Product Support</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Product Support</a></li>
                        <li><a href="#">Request New Product Support Executive</a></li>
                        <li><a href="#">Support Executive List</a></li>
                        <li><a href="#">Support Executive Details</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Products</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Products</a></li>
                        <li><a href="#">New Products</a></li>
                        <li><a href="#">Proposed Projects By Customers</a></li>
                    </ul>
                </li>
            }
            else if (@Context.Session.GetInt32("UserRole") == 4) //Role - IT Development Team
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Product Cases</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Product Cases</a></li>
                        <li><a href="#">New Cases</a></li>
                        <li><a href="#">Cases Assigned To Me</a></li>
                        <li><a href="#">Case History</a></li>
                        <li><a href="#">Consolidated Case Report</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Products</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Products</a></li>
                        <li><a href="#">New Products</a></li>
                        <li><a href="#">Proposed Projects By Customers</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-collection'></i>
                            <span class="link_name">Knowledge</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Knowledge</a></li>
                        <li><a href="#">Add Knowledge Article</a></li>
                        <li><a href="#">Knowledge Article History</a></li>
                        <li><a href="#">Knowledge Article Dashboard</a></li>
                    </ul>
                </li>
            }
            else if (@Context.Session.GetInt32("UserRole") == 5) //Role - Sales/Marketing
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
            }
            else if (@Context.Session.GetInt32("UserRole") == 6) //Role - Accounting
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
            }
            else if (@Context.Session.GetInt32("UserRole") == 7) //Role - IT Support Team
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
            }
            else if (@Context.Session.GetInt32("UserRole") == 8) //Role - Human Resources Team
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
            }
            else //Role - If new role introduced, add here.
            {
                <li>
                    <a href="#">
                        <i class='bx bxs-dashboard'></i>
                        <span class="link_name">Dashboard</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a href="@Url.Action("Dashboard","Dashboard")">Dashboard</a></li>
                    </ul>
                </li>
            }
        </ul>
        <div class="profile-details">
            <div class="profile-content">
                <!--<img src="image/profile.jpg" alt="profileImg">-->
            </div>
            <div class="name-job">
                <div class="profile_name">@Context.Session.GetString("LoginUser")</div>
                @if (@Context.Session.GetInt32("UserRole") == 1)
                {
                    <div class="job">Administrator</div>
                }
                else if (@Context.Session.GetInt32("UserRole") == 2)
                {
                    <div class="job">Customer</div>
                }
                else if (@Context.Session.GetInt32("UserRole") == 3)
                {
                    <div class="job">Product Support</div>
                }
                else if (@Context.Session.GetInt32("UserRole") == 4)
                {
                    <div class="job">IT Development</div>
                }
                else if (@Context.Session.GetInt32("UserRole") == 5)
                {
                    <div class="job">Sales/Marketing</div>
                }
                else if (@Context.Session.GetInt32("UserRole") == 6)
                {
                    <div class="job">Accounting</div>
                }
                else if (@Context.Session.GetInt32("UserRole") == 7)
                {
                    <div class="job">IT Support</div>
                }
                else if (@Context.Session.GetInt32("UserRole") == 8)
                {
                    <div class="job">Human Resources (HR)</div>
                }
                else
                {
                    <div class="job">Other</div>
                }
            </div>
            <i class='bx bx-log-out'></i>
        </div>
    </div>
    <section class="home-section">
        <div class="home-content">
            <i class='bx bx-menu'></i>
        </div>

        <div class="uk-container uk-container-xlarge uk-margin-small-top uk-margin-small-bottom">
            @RenderBody()
        </div>
    </section>


    <script src="~/lib/uikit/js/uikit-icons.min.js"></script>
    @*@await RenderSectionAsync("Scripts", required: false)*@
</body>
</html>

<script>
    let arrow = document.querySelectorAll(".arrow");
    for (var i = 0; i < arrow.length; i++) {
        arrow[i].addEventListener("click", (e) => {
            let arrowParent = e.target.parentElement.parentElement;//selecting main parent of arrow
            arrowParent.classList.toggle("showMenu");
        });
    }
    let sidebar = document.querySelector(".sidebar");
    let sidebarBtn = document.querySelector(".bx-menu");
    console.log(sidebarBtn);
    sidebarBtn.addEventListener("click", () => {
        sidebar.classList.toggle("close");
    });
</script>